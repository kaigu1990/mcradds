<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Creates Contingency Table — diagTab • mcradds</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates Contingency Table — diagTab"><meta name="description" content="
Creates a 2x2 contingency table from the data frame or matrix for the qualitative
performance and reader precision of downstream analysis."><meta property="og:description" content="
Creates a 2x2 contingency table from the data frame or matrix for the qualitative
performance and reader precision of downstream analysis."><meta property="og:image" content="https://kaigu1990.github.io/mcradds/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mcradds</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mcradds.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/kaigu1990/mcradds/"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creates Contingency Table</h1>
      <small class="dont-index">Source: <a href="https://github.com/kaigu1990/mcradds/blob/main/R/qual_stat.R" class="external-link"><code>R/qual_stat.R</code></a></small>
      <div class="d-none name"><code>diagTab.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Creates a 2x2 contingency table from the data frame or matrix for the qualitative
performance and reader precision of downstream analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">diagTab</span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  bysort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dimname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  levels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rep <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  across <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>(<code>numeric</code>)<br> a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> object with the cross-classifying
variables (separated by <code>+</code>) on the right hand side. If data is wide structure,
the row name of contingency is represented by the variable to the left of
the <code>+</code> sign, and the col name is the right. If data is long structure, the
classified variable is put on the left of the formula, and the value variable
is put on the right.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(<code>data.frame</code> or <code>matrix</code>)<br> a data frame or matrix.</p></dd>


<dt id="arg-bysort">bysort<a class="anchor" aria-label="anchor" href="#arg-bysort"></a></dt>
<dd><p>(<code>string</code>)<br> a sorted variable from the col names of <code>data</code>, and
a grouped variable for reproducibility analysis.</p></dd>


<dt id="arg-dimname">dimname<a class="anchor" aria-label="anchor" href="#arg-dimname"></a></dt>
<dd><p>(<code>vector</code>)<br> a character vector define the row name of contingency
table in first variable, and col name in second variable.</p></dd>


<dt id="arg-levels">levels<a class="anchor" aria-label="anchor" href="#arg-levels"></a></dt>
<dd><p>(<code>vector</code>)<br> a vector of known levels for measurements.</p></dd>


<dt id="arg-rep">rep<a class="anchor" aria-label="anchor" href="#arg-rep"></a></dt>
<dd><p>(<code>logical</code>)<br> whether to implement the reproducibility like reader
precision or not.</p></dd>


<dt id="arg-across">across<a class="anchor" aria-label="anchor" href="#arg-across"></a></dt>
<dd><p>(<code>string</code>)<br> the across variable to split original data set to
subsets. The between-reader and within-reader precision's across variable
is <code>site</code> commonly.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A object <code>MCTab</code> contains the 2x2 contingency table.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>To be attention that if you would like to generate the 2x2 contingency table
for reproducibility analysis, the original data should be long structure and
using the corresponding formula.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/groupGeneric.html" class="external-link">Summary()</a></code> for object to calculate diagnostic accuracy criteria.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># For qualitative performance with wide data structure</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"qualData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">qualData</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">diagTab</span><span class="op">(</span>formula <span class="op">=</span> <span class="op">~</span> <span class="va">CandidateN</span> <span class="op">+</span> <span class="va">ComparativeN</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contingency Table: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> levels: 0 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ComparativeN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CandidateN   0   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          0  54  16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1   8 122</span>
<span class="r-in"><span><span class="va">qualData</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagTab</span><span class="op">(</span></span></span>
<span class="r-in"><span>    formula <span class="op">=</span> <span class="op">~</span> <span class="va">CandidateN</span> <span class="op">+</span> <span class="va">ComparativeN</span>,</span></span>
<span class="r-in"><span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contingency Table: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> levels: 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ComparativeN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CandidateN   1   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1 122   8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          0  16  54</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For qualitative performance with long data structure</span></span></span>
<span class="r-in"><span><span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1001"</span>, <span class="st">"1001"</span>, <span class="st">"1002"</span>, <span class="st">"1002"</span>, <span class="st">"1003"</span>, <span class="st">"1003"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Test"</span>, <span class="st">"Ref"</span>, <span class="st">"Test"</span>, <span class="st">"Ref"</span>, <span class="st">"Test"</span>, <span class="st">"Ref"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dummy</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagTab</span><span class="op">(</span></span></span>
<span class="r-in"><span>    formula <span class="op">=</span> <span class="va">type</span> <span class="op">~</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    bysort <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>    dimname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Test"</span>, <span class="st">"Ref"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contingency Table: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> levels: 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Ref</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0 0 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For Between-Reader precision performance</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"PDL1RP"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">reader</span> <span class="op">&lt;-</span> <span class="va">PDL1RP</span><span class="op">$</span><span class="va">btw_reader</span></span></span>
<span class="r-in"><span><span class="va">reader</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagTab</span><span class="op">(</span></span></span>
<span class="r-in"><span>    formula <span class="op">=</span> <span class="va">Reader</span> <span class="op">~</span> <span class="va">Value</span>,</span></span>
<span class="r-in"><span>    bysort <span class="op">=</span> <span class="st">"Sample"</span>,</span></span>
<span class="r-in"><span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="st">"Negative"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    rep <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    across <span class="op">=</span> <span class="st">"Site"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contingency Table: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> levels: Positive Negative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Pairwise2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pairwise1  Positive Negative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Positive      200        7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Negative       15      228</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kai Gu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

